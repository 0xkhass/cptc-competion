# ** #SSH protocol ( <mark style="background: #FF7F50;">Secure shell protocol</mark> ) [ port : 22 ]**

<br>

### SSH has 2 main authentication ways:
##### 1. Username & Password Authentication.
##### 2. Key Based Authentication.
- (A pair of Public & Private keys) Where the <mark style="background: #ABF7F7A6;">Public key</mark> is on the server.... And the <mark style="background: #8e44ad;">Private key</mark> is given to the clients who are allowed to connect.

---
using:  `~# nc <ip address> <ssh port>` might give both SSH and linux versions.

a simple SSH login might give us the banner ( title ) for the purpose of the service

---

# ** #MSF <mark style="background: #FF5582A6;">modules</mark> :**
##### **To search:**
- `search type:auxiliary name:ssh`


		auxiliary/scanner/ssh/ssh_login
	
- Brute Force SSH....   (If you find a session and it doesn't response to commands. Create a Bash session : `/bin/bash -i`)
After finding a password you can check: `sessions` and use them: `sessions -i 1` 


	auxiliary/scanner/ssh/ssh_enumusers

-  If Brute Force isn't successful try it to get available users.


---
### **#nmap_scripts -:**

`ssh2-enum-algos`

- to enumerate all algorthims

`ssh-hostkey --script-args ssh_hostkey=full`

- gives us the SSH RSA hostkey

`ssh-auth-methods --script-args ssh.user=<username>`

- check for auth methods for that particular user

### what is more interesting is <mark style="background: #6A5ACD;">if there is no auth methods for</mark>
### <mark style="background: #6A5ACD;">that user</mark> then <mark style="background: #FF5582A6;">**we can actually login through ssh directly!**</mark>


---

## **Vulnerabilites & Exploitations:**

#### <mark style="background: #FF5582A6;">**MSF</mark> Module:**
- **libssh is a multiplatform C library implementing the SSHv2 protocol on client and serverside.**

- **libssh V0.6.0-0.8.0 is vulnerable to an authentication bypass vulnerability in the libssh server code that can be exploited to execute commands on the target server.**


		auxiliary/scanner/ssh/libssh_auth_bypass

Then and run. 

	set SPAWN_PTY true

