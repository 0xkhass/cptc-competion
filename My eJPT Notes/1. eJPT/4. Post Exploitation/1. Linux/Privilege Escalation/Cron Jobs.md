### **Introduction to Cron Jobs:**
cool site: https://crontab.guru/

**Linux implements task scheduling through a utility called Cron.**

- **Cron is a time-based service that runs applications, scripts and other commands** **repeatedly on a specified schedule.**
<br>
- **An application, or script that has been configured to be run repeatedly with Cron is known as a Cron job. 
Cron can be used to automate or repeat a wide variety of  functions on a system, from daily backups to system upgrades and patches.** 
<br>

- The crontab file is a configuration file that is used by the Cron utility to store and track Cron jobs that have been created THAT WHAT WE WILL FOCUS ON


---
>Cron jobs can also be run as any user on the system, this is a very important factor to keep an eye on as **<mark style="background: #e74c3c;">we will be targeting Cron jobs that have been configured to be run as the “root” user.</mark>**


- **Any script or command that is run by a Cron job will run as the root user and will consequently provide us with root access.**  
<br>

- **In order to elevate our privileges, we will need to find and identify cron jobs scheduled by the root user or the files being processed by the cron job.**


---


#### **<mark style="background: #00CDFF82;">You can see all schedule tasks in this directory:</mark>**

>	cat /etc/crontab
### <mark style="background: #ABF7F7A6;">**If you find a suspicious cron file, search for it under** **/usr** **or any common paths**</mark>

- **shell scripts are commonly under** **/usr**

>**Read about printf & how to write the sudoers file**
### **<mark style="background: #239b56;">If there's no text editor on the target use printf command</mark>**
-  Example:  `printf '#!/bin/bash\necho "student ALL=NOPASSWD:ALL" >> /etc/sudoers' > /usr/local/share/copy.sh` This command gives student ALL access with no password. 
Here we edit the shell file contents without needing text editor tools like: vim or nano.


### <br>

---

### <mark style="background: #f39c12;">To Identify cron jobs scheduled for a specific user:</mark>
- use: `crontab -l`



## **Example:**

![[Pasted image 20250415074827.png | 1500]]

#### **<mark style="background: #2e86c1;">Here we abused the printf command to edit the shell script to edit our privs by adding the user "student " to the sudoers file...</mark>**
-  The `\n` between bash and echo is to create a new line....

![[Pasted image 20250415080236.png | 1400]]


